{"version":3,"sources":["webpack://mesto/./src/components/Card.js","webpack://mesto/./src/utils/constants.js","webpack://mesto/./src/components/Popup.js","webpack://mesto/./src/components/PopupWithForm.js","webpack://mesto/./src/components/PopupWithImage.js","webpack://mesto/./src/components/PopupWithSubmit.js","webpack://mesto/./src/components/Section.js","webpack://mesto/./src/components/UserInfo.js","webpack://mesto/./src/components/FormValidator.js","webpack://mesto/./src/pages/index.js","webpack://mesto/./src/components/Api.js"],"names":["Card","cardTemplateSelector","handleCardClick","handleDeleteClick","handleLikeClick","name","link","likes","myCard","cardId","userId","this","_cardName","_cardImageLink","_cardLikes","_myCard","_cardId","_userId","_cardTemplateSelector","_handleCardClick","_handleDeleteClick","_handleLikeClick","document","querySelector","content","cloneNode","_result","_card","addEventListener","_likeCardHandler","event","_removeCardHandler","i","length","_id","console","log","_getTemplate","cardContainer","cardLabel","cardImage","cardLikes","cardDeleteButton","hidden","_checkMyLike","classList","add","id","textContent","src","alt","_setEventListeners","profileEditForm","profileEditPopup","popupProfileTitle","popupProfileSubtitle","editButton","addButton","profileEditPopupSelector","cardAddPopupSelector","profileAvatarEditButton","validationConfig","inputSelector","submitButtonSelector","submitButtonDisabledSelector","inputInvalidSelector","Popup","popupSelector","evt","code","close","_popup","_handleEscClose","remove","removeEventListener","target","contains","PopupWithForm","handleFormSubmit","preventDefault","_handleFormSubmit","_getInputValues","_form","_inputList","querySelectorAll","_formValues","forEach","input","value","reset","_formSubmitFunction","PopupWithImage","_popupSelector","imageToView","imageToViewLabel","PopupWithSubmit","Section","containerSelector","renderer","_renderer","_container","data","item","element","position","prepend","append","UserInfo","userSelector","aboutSelector","avatarSelector","_userSelector","_aboutSelector","_avatarSelector","_profileInfo","user","about","avatar","avatarUrl","profileTitle","profileSubtitle","FormValidator","formElement","_inputSelector","_submitButton","_submitButtonDisabledSelector","_inputInvalidSelector","validationMessage","validity","valid","_hideError","_showError","checkValidity","disabled","_checkInputValidity","setButtonState","api","address","token","groupId","_address","_token","_groupId","fetch","headers","authorization","then","res","ok","json","Promise","reject","status","method","body","JSON","stringify","result","like","_like","avatarLink","getUserInfo","setUserInfo","catch","err","formLoadingEnable","finally","formLoadingDisable","setEventListeners","addFormValidator","enableValidation","editFormValidator","imagePopup","open","popupDelConfirmation","deleteCard","CSS","escape","ownLike","likeCard","card","toggle","cardsList","owner","cardElement","generateCard","addItem","getCards","renderItems","addCardPopup","createCard","placeLabel","placeImage","userInfo","clearValidationMessages","popupEditAvatar","setAvatar","editAvatarForm"],"mappings":"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","file":"index.js","sourcesContent":["export default class Card {\r\n\r\n  constructor({ name, link, likes, myCard, cardId, userId }, cardTemplateSelector, handleCardClick, handleDeleteClick, handleLikeClick) {\r\n    this._cardName = name;\r\n    this._cardImageLink = link;\r\n    this._cardLikes = likes;\r\n    this._myCard = myCard;\r\n    this._cardId = cardId;\r\n    this._userId = userId;\r\n    this._cardTemplateSelector = cardTemplateSelector;\r\n    this._handleCardClick = handleCardClick;\r\n    this._handleDeleteClick = handleDeleteClick;\r\n    this._handleLikeClick = handleLikeClick;\r\n  }\r\n\r\n  _getTemplate() {\r\n    const cardElement = document\r\n      .querySelector(this._cardTemplateSelector)\r\n      .content\r\n      .cloneNode(true);\r\n    return cardElement;\r\n  }\r\n\r\n  _likeCardHandler() {\r\n    this._handleLikeClick(this._cardId, this._result);\r\n  }\r\n\r\n  _removeCardHandler() {\r\n    this._handleDeleteClick(this._cardId);\r\n  }\r\n\r\n  _setEventListeners() {\r\n    this._card.querySelector('.cards__like-button').addEventListener('click', () => {\r\n      this._likeCardHandler();\r\n    });\r\n\r\n    if (this._myCard) {\r\n      this._card.querySelector('.cards__remove-button').addEventListener('click', (event) => {\r\n        this._removeCardHandler(event);\r\n      });\r\n    }\r\n\r\n    this._card.querySelector('.cards__image').addEventListener('click', (event) => {\r\n      this._handleCardClick(this._cardName, this._cardImageLink);\r\n    });\r\n  }\r\n\r\n  _checkMyLike() {\r\n    for (let i = 0; i < this._cardLikes.length; i++) {\r\n      if (this._cardLikes[i]._id === this._userId) {\r\n        this._result = true;\r\n      } else {\r\n        this._result = false;\r\n      }\r\n    }\r\n    console.log('check ' + this._result);\r\n    return this._result;\r\n  }\r\n\r\n  generateCard() {\r\n    this._card = this._getTemplate();\r\n    const cardContainer = this._card.querySelector('.cards__item');\r\n    const cardLabel = this._card.querySelector('.cards__label');\r\n    const cardImage = this._card.querySelector('.cards__image');\r\n    const cardLikes = this._card.querySelector('.cards__likes-counter');\r\n    const cardDeleteButton = this._card.querySelector('.cards__remove-button');\r\n\r\n    if (!this._myCard) {\r\n      cardDeleteButton.hidden = true;\r\n    }\r\n\r\n    if (this._checkMyLike()) {\r\n      this._card.querySelector('.cards__like-button').classList.add('cards__like-button_liked');\r\n    }\r\n\r\n    cardContainer.id = this._cardId;\r\n    cardLabel.textContent = this._cardName;\r\n    cardImage.src = this._cardImageLink;\r\n    cardImage.alt = this._cardName;\r\n    cardLikes.textContent = (this._cardLikes.length);\r\n\r\n    this._setEventListeners();\r\n    return this._card;\r\n  };\r\n\r\n}\r\n","export const imageBox = document.querySelector('.image-box');\r\nexport const imageBoxCloseButton = imageBox.querySelector('.image-box__close-button');\r\nexport const profileEditForm = profileEditPopup.querySelector('.popup__form');\r\nexport const popupProfileTitle = profileEditForm.querySelector('#profileTitle');\r\nexport const popupProfileSubtitle = profileEditForm.querySelector('#profileSubtitle');\r\nexport const cardsListSection = '.cards__list';\r\nexport const editButton = document.querySelector('.profile__edit-button');\r\nexport const addButton = document.querySelector('.profile__add-button');\r\nexport const profileEditPopupSelector = '#profileEditPopup';\r\nexport const cardAddPopupSelector = '#cardAddPopup';\r\nexport const profileTitleSelector = '.profile__title';\r\nexport const profileSubtitleSelector = '.profile__subtitle';\r\nexport const profileAvatarSelector = '.profile__avatar';\r\nexport const profileAvatarEditButton = document.querySelector('.profile__avatar-button');\r\n\r\n  export const validationConfig = {\r\n    inputSelector: '.popup__input',\r\n    submitButtonSelector: '.popup__submit-button',\r\n    submitButtonDisabledSelector: 'popup__submit-button_disabled',\r\n    inputInvalidSelector: 'popup__input_invalid',\r\n  };","import { cardsListSection } from \"../utils/constants\";\r\n\r\nexport default class Popup {\r\n  constructor(popupSelector) {\r\n    this._popup = document.querySelector(popupSelector);\r\n  }\r\n\r\n  open() {\r\n    this._popup.classList.add('popup_opened');\r\n    document.addEventListener('keydown', this._handleEscClose);\r\n  }\r\n\r\n  close() {\r\n    this._popup.classList.remove('popup_opened');\r\n    document.removeEventListener('keydown', this._handleEscClose);\r\n  }\r\n\r\n  _handleEscClose = (evt) => {\r\n      if (evt.code === 'Escape') {\r\n        this.close();\r\n      }\r\n  }\r\n\r\n  setEventListeners() {\r\n    const closeButton = this._popup.querySelector('.popup__close-button') ?\r\n      this._popup.querySelector('.popup__close-button') :\r\n      this._popup.querySelector('.image-box__close-button');\r\n\r\n    closeButton.addEventListener('click', () => {\r\n      this.close();\r\n    })\r\n\r\n    this._popup.addEventListener('mousedown', (evt) => {\r\n      if (evt.target.classList.contains('popup_opened')) {\r\n        this.close();\r\n      }\r\n    });\r\n  }\r\n}","import Popup from './Popup.js';\r\n\r\nexport default class PopupWithForm extends Popup {\r\n  constructor(popupSelector, handleFormSubmit) {\r\n    super(popupSelector);\r\n    this._handleFormSubmit = handleFormSubmit;\r\n    this._form = this._popup.querySelector('.popup__form');\r\n  }\r\n\r\n  _getInputValues() {\r\n    this._inputList = this._form.querySelectorAll('.popup__input');\r\n    this._formValues = {};\r\n    this._inputList.forEach(input => this._formValues[input.name] = input.value);\r\n    return this._formValues;\r\n  }\r\n\r\n  formLoadingEnable() {\r\n    this._form.querySelector('.popup__submit-button').textContent = 'Сохранение...';\r\n  }\r\n\r\n  formLoadingDisable() {\r\n    this._form.querySelector('.popup__submit-button').textContent = 'Сохранить';\r\n  }\r\n\r\n  close() {\r\n    this._form.reset();\r\n    super.close();\r\n  }\r\n\r\n  setEventListeners() {\r\n    this._form.addEventListener('submit', this._formSubmitFunction);\r\n    super.setEventListeners();\r\n  }\r\n\r\n _formSubmitFunction = (evt) => {\r\n    evt.preventDefault();\r\n    this._handleFormSubmit(this._getInputValues());\r\n  }\r\n}","import Popup from './Popup.js';\r\n\r\nexport default class PopupWithImage extends Popup {\r\n  constructor(popupSelector) {\r\n    super(popupSelector);\r\n    this._popupSelector = document.querySelector(popupSelector);\r\n    //! Необходимо удалить\r\n    //!this._cardElement = cardElement;\r\n\r\n  }\r\n\r\n  open(name, link) {\r\n    const imageToView = this._popupSelector.querySelector('.image-box__image');\r\n    const imageToViewLabel = this._popupSelector.querySelector('.image-box__label');\r\n    imageToView.src = link;\r\n    imageToViewLabel.textContent = name;\r\n    imageToView.alt = name;\r\n    super.open();\r\n    document.addEventListener('keydown', this._handleEscClose);\r\n  }\r\n\r\n}","import Popup from \"./Popup\";\r\n\r\nexport default class PopupWithSubmit extends Popup {\r\n  constructor(popupSelector, handleFormSubmit) {\r\n    super(popupSelector);\r\n    this._handleFormSubmit = handleFormSubmit;\r\n    this._form = this._popup.querySelector('.popup__form');\r\n  }\r\n\r\n  open(cardId) {\r\n    super.open();\r\n    this._cardId = cardId;\r\n  }\r\n\r\n  setEventListeners() {\r\n    this._form.addEventListener('submit', this._formSubmitFunction);\r\n    super.setEventListeners();\r\n  }\r\n\r\n _formSubmitFunction = (evt) => {\r\n    evt.preventDefault();\r\n    this._handleFormSubmit(this._cardId);\r\n    this.close();\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n/* класс для попапа с подтверждением (можно назвать, например, PopupWithSubmit или как-то так, если в ТЗ нет уточнения по этому поводу) Точно также отпачковывается от класса Popup как и класс PopupWithForm / PopupWithImage. Единственное у него есть два момента на которые надо обратить внимание:\r\n\r\nу него переопределеяется метод setEventListeners немного по-другому, нежели вы это делали в классе PopupWithForm - в нем вы передавали туда значения всех инпутов. Теперь же туда ничего не надо передавать, а просто вызывать функцию при сабмите. Соответственно никаких других методов у этого попапа не будет, так как нет формы которую надо валидировать.\r\n\r\nв попапе нужен метод, который динамически позволяет менять функцию, которая вызывается при нажатии на кнопку сабмита. дело в том, что этот попап при подтверждении будет выполнять потенциально разные действия, так как суть попапа в подтверждении какого-то абстрактного действия. В рамках данной работы единственное действие где подтверждение нужно - удаление карточки. Но удалять мы будем каждый раз разные карточки. Поэтому должна быть возможность при открытии попапа переопределять через публичный метод то действие, которое нужно выполнить при нажатии на кнопку. В данной проектной “переопределяемое” действие будет отличаться только тем, какой айдишник мы используем для удаления внутри метода. этот попап вы открываете только в одном случае - нажатие на кнопку удаления карточки. соответственно и переопределять выполняемую функцию надо только после нажатия на кнопку удаления (перед непосредственным открытием попапа) */","export default class Section {\r\n  constructor({ renderer }, containerSelector) {\r\n    this._renderer = renderer;\r\n    this._container = document.querySelector(containerSelector);\r\n  }\r\n\r\n  renderItems(data) {\r\n    data.forEach((item) => {\r\n      this._renderer(item);\r\n    })\r\n  }\r\n\r\n  addItem(element, position) {\r\n    if(position === 'start'){\r\n      this._container.prepend(element);\r\n    } else {\r\n      this._container.append(element);\r\n    }\r\n  }\r\n}","\r\nexport default class UserInfo {\r\n  constructor(userSelector, aboutSelector, avatarSelector) {\r\n    this._userSelector = userSelector;\r\n    this._aboutSelector = aboutSelector;\r\n    this._avatarSelector = avatarSelector;\r\n  }\r\n\r\n  getUserInfo() {\r\n    this._profileInfo = {};\r\n    this._profileInfo.user = document.querySelector(this._userSelector).textContent;\r\n    this._profileInfo.about = document.querySelector(this._aboutSelector).textContent;\r\n    this._profileInfo.avatar = document.querySelector(this._avatarSelector).src;\r\n    return this._profileInfo;\r\n  }\r\n\r\n  setAvatar(avatarUrl) {\r\n    document.querySelector(this._avatarSelector).src = avatarUrl;\r\n  }\r\n\r\n  setUserInfo({ userId, profileTitle, profileSubtitle, avatarUrl }) {\r\n    document.querySelector(this._userSelector).textContent = profileTitle;\r\n    document.querySelector(this._aboutSelector).textContent = profileSubtitle;\r\n    document.querySelector(this._avatarSelector).src = avatarUrl;\r\n    this._userId = userId;\r\n  }\r\n\r\n}","export default class FormValidator {\r\n\r\n  constructor(validationConfig, formElement) {\r\n    this._form = formElement;\r\n    this._inputSelector = validationConfig.inputSelector;\r\n    this._submitButton = this._form.querySelector(validationConfig.submitButtonSelector);\r\n    this._submitButtonDisabledSelector = validationConfig.submitButtonDisabledSelector;\r\n    this._inputInvalidSelector = validationConfig.inputInvalidSelector;\r\n  }\r\n\r\n  enableValidation() {\r\n    this._setEventListeners();\r\n  }\r\n\r\n  _showError(input) {\r\n    const error = this._form.querySelector(`#${input.id}-error`);\r\n    error.textContent = input.validationMessage;\r\n    input.classList.add(this._inputInvalidSelector);\r\n  };\r\n\r\n  _hideError(input) {\r\n    const error = this._form.querySelector(`#${input.id}-error`);\r\n    error.textContent = '';\r\n    input.classList.remove(this._inputInvalidSelector);\r\n  };\r\n\r\n  _checkInputValidity(input) {\r\n    if (!input.validity.valid) {\r\n      this._showError(input);\r\n    } else {\r\n      this._hideError(input);\r\n    }\r\n  };\r\n\r\n  setButtonState() {\r\n    if (this._form.checkValidity()) {\r\n      this._submitButton.classList.remove(this._submitButtonDisabledSelector);\r\n      this._submitButton.disabled = false;\r\n    } else {\r\n      this._submitButton.classList.add(this._submitButtonDisabledSelector);\r\n      this._submitButton.disabled = true;\r\n    }\r\n  };\r\n\r\n  _setEventListeners() {\r\n    const inputList = this._form.querySelectorAll(this._inputSelector);\r\n    inputList.forEach((input) => {\r\n      input.addEventListener('input', () => {\r\n        this._checkInputValidity(input);\r\n        this.setButtonState();\r\n      });\r\n    });\r\n  };\r\n\r\n  clearValidationMessages() {\r\n    const inputList = this._form.querySelectorAll(this._inputSelector);\r\n    inputList.forEach((input) => {\r\n      this._hideError(input);\r\n    });\r\n  }\r\n\r\n}","import './index.css';\r\n\r\nimport Card from '../components/Card.js';\r\nimport Popup from '../components/Popup.js';\r\nimport PopupWithForm from '../components/PopupWithForm.js';\r\nimport PopupWithImage from '../components/PopupWithImage.js';\r\nimport PopupWithSubmit from '../components/PopupWithSubmit.js';\r\nimport Section from '../components/Section.js';\r\nimport UserInfo from '../components/UserInfo.js';\r\nimport FormValidator from '../components/FormValidator.js';\r\nimport Api from '../components/Api.js';\r\n\r\nimport {\r\n  cardsListSection,\r\n  addButton,\r\n  editButton,\r\n  cardAddPopupSelector,\r\n  profileEditPopupSelector,\r\n  validationConfig,\r\n  profileTitleSelector,\r\n  profileSubtitleSelector,\r\n  profileAvatarSelector,\r\n  popupProfileTitle,\r\n  popupProfileSubtitle,\r\n  profileAvatarEditButton\r\n} from '../utils/constants.js';\r\n\r\n// * Инициализация класса Api\r\nconst api = new Api({\r\n  address: 'https://mesto.nomoreparties.co/v1',\r\n  token: 'f8102ab5-70c3-4d68-8d03-549794a26a19',\r\n  groupId: 'cohort-20'\r\n});\r\n\r\n// * Инициализация класса UserInfo\r\nconst user = new UserInfo(profileTitleSelector, profileSubtitleSelector, profileAvatarSelector);\r\n// * Загрузка и вставка данных профиля\r\napi.getUserInfo()\r\n  .then(res => {\r\n    user.setUserInfo({ userId: res._id, profileTitle: res.name, profileSubtitle: res.about, avatarUrl: res.avatar });\r\n  })\r\n  .catch(err => console.log(`При загрузке данных возникла ошибка: ${err.status}`));\r\n\r\n//* Запись данных профиля на сервер\r\nconst profileEditPopup = new PopupWithForm(profileEditPopupSelector, (item) => {\r\n  profileEditPopup.formLoadingEnable();\r\n  api.setUserInfo({ name: item.profileTitle, about: item.profileSubtitle })\r\n    .then(res => {\r\n      user.setUserInfo({ profileTitle: res.name, profileSubtitle: res.about, avatarUrl: res.avatar });\r\n    })\r\n    .catch(err => console.log(`При загрузке данных возникла ошибка: ${err.status}`))\r\n    .finally(() => {\r\n      profileEditPopup.formLoadingDisable();\r\n      profileEditPopup.close()\r\n    }\r\n    );\r\n});\r\nprofileEditPopup.setEventListeners();\r\n\r\n//* Включение валидации формы добавления карточки */\r\nconst addForm = document.querySelector(cardAddPopupSelector).querySelector('.popup__form');\r\nconst addFormValidator = new FormValidator(validationConfig, addForm);\r\naddFormValidator.enableValidation();\r\n\r\n//* Включение валидации формы редактирования профиля */\r\nconst editForm = document.querySelector(profileEditPopupSelector).querySelector('.popup__form');\r\nconst editFormValidator = new FormValidator(validationConfig, editForm);\r\neditFormValidator.enableValidation();\r\n\r\n// * Инициализация класса PopupWithImage\r\nconst imagePopup = new PopupWithImage('.image-box');\r\nimagePopup.setEventListeners();\r\n\r\nconst handleCardClick = (name, link) => {\r\n  imagePopup.open(name, link);\r\n}\r\n\r\n//* Создание формы подтверждения удаления карточки\r\nconst popupDelConfirmation = new PopupWithSubmit('.popup_type_delete', (cardId) => {\r\n  api.deleteCard(cardId).then(res => {\r\n    document.querySelector(`#${CSS.escape(res)}`).remove();\r\n  }).catch(err => console.log(`При удалении карточки возникла ошибка: ${err.status}`));\r\n});\r\npopupDelConfirmation.setEventListeners();\r\n\r\n//* Удаление карточки */\r\nconst handleDeleteClick = (cardId) => {\r\n  popupDelConfirmation.open(cardId);\r\n}\r\n\r\n//* Лайк карточки */\r\nconst handleLikeClick = (cardId, ownLike) => {\r\n  api.likeCard(cardId, !ownLike).then(res => {\r\n    const card = document.querySelector(`#${CSS.escape(res._id)}`);\r\n    console.log(res.likes);\r\n\r\n    card.querySelector('.cards__likes-counter').textContent = res.likes.length;\r\n    card.querySelector('.cards__like-button').classList.toggle('cards__like-button_liked');\r\n  }).catch(err => console.log(`При лайке карточки возникла ошибка: ${err.status}`));\r\n}\r\n\r\n// * Первоначальная инициализация карточек\r\nconst cardsList = new Section({\r\n  renderer: (item) => {\r\n    const myCard = (user._userId === item.owner._id) ? true : false;\r\n    const card = new Card({ name: item.name, link: item.link, likes: item.likes, myCard: myCard, cardId: item._id, userId: user._userId }, '.card-template', handleCardClick, handleDeleteClick, handleLikeClick);\r\n    const cardElement = card.generateCard();\r\n    cardsList.addItem(cardElement);\r\n  }\r\n}, cardsListSection\r\n);\r\n\r\napi.getCards()\r\n  .then(res => {\r\n    cardsList.renderItems(res);\r\n  })\r\n  .catch(err => console.log(`При загрузке данных возникла ошибка: ${err.status}`));\r\n\r\n// * Инициализация класса PopupWithForm\r\nconst addCardPopup = new PopupWithForm(cardAddPopupSelector, (item) => {\r\n  addCardPopup.formLoadingEnable();\r\n  api.createCard({ name: item.placeLabel, link: item.placeImage })\r\n    .then(res => {\r\n      const card = new Card({ name: res.name, link: res.link, likes: res.likes, myCard: true, cardId: res._id }, '.card-template', handleCardClick, handleDeleteClick, handleLikeClick);\r\n      const cardElement = card.generateCard();\r\n      cardsList.addItem(cardElement, 'start');\r\n    }).catch(err => console.log(`При загрузке данных возникла ошибка: ${err.status}`))\r\n    .finally(() => {\r\n      addCardPopup.formLoadingDisable();\r\n      addCardPopup.close()\r\n    }\r\n    );\r\n});\r\naddCardPopup.setEventListeners();\r\n\r\n//* Добавление слушателя открытя формы редактирования профиля */\r\neditButton.addEventListener('click', () => {\r\n  const userInfo = user.getUserInfo();\r\n  popupProfileTitle.value = userInfo.user;\r\n  popupProfileSubtitle.value = userInfo.about;\r\n  editFormValidator.clearValidationMessages();\r\n  editFormValidator.setButtonState();\r\n  profileEditPopup.open();\r\n});\r\n\r\n//* Добавление слушателя открытя формы добавления карточки */\r\naddButton.addEventListener('click', () => {\r\n  addFormValidator.clearValidationMessages();\r\n  addFormValidator.setButtonState();\r\n  addCardPopup.open();\r\n});\r\n\r\nconst popupEditAvatar = new PopupWithForm('#profileChangeAvatar', ({ avatarLink }) => {\r\n  popupEditAvatar.formLoadingEnable();\r\n  api.setAvatar(avatarLink).then(res => {\r\n    user.setAvatar(res.avatar);\r\n  }).catch(err => console.log(`При изменении аватара возникла ошибка: ${err.status}`))\r\n    .finally(() => {\r\n      popupEditAvatar.formLoadingDisable();\r\n      popupEditAvatar.close()\r\n    }\r\n    );\r\n});\r\n\r\nconst editAvatarForm = document.querySelector('.popup__container_type_avatar').querySelector('.popup__form');\r\npopupEditAvatar.setEventListeners();\r\nconst editAvatarValidator = new FormValidator(validationConfig, editAvatarForm);\r\neditAvatarValidator.enableValidation();\r\nprofileAvatarEditButton.addEventListener('click', () => {\r\n  popupEditAvatar.open();\r\n})\r\n","export default class Api {\r\n  constructor({ address, token, groupId }) {\r\n    this._address = address;\r\n    this._token = token;\r\n    this._groupId = groupId;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка ${res.status}`)\r\n      })\r\n  }\r\n\r\n  setUserInfo({ name, about }) {\r\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about\r\n      })\r\n    }).then(result => result.ok ? result.json() : Promise.reject(`Ошибка ${result.status}`))\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(`${this._address}/${this._groupId}/cards`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка ${res.status}`)\r\n      })\r\n  }\r\n\r\n  createCard({ name, link }) {\r\n    return fetch(`${this._address}/${this._groupId}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n      })\r\n    }).then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._address}/${this._groupId}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n      }\r\n    }).then(res => res.ok ? cardId : Promise.reject(`Ошибка ${res.status}`));\r\n  }\r\n\r\n  likeCard(cardId, like) {\r\n    this._like = like ? 'PUT' : 'DELETE';\r\n    return fetch(`${this._address}/${this._groupId}/cards/likes/${cardId}`, {\r\n      method: this._like,\r\n      headers: {\r\n        authorization: this._token,\r\n      }\r\n    }).then(res => res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`))\r\n  }\r\n\r\n  setAvatar(avatarLink) {\r\n    return fetch(`${this._address}/${this._groupId}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatarLink\r\n      })\r\n    }).then(result => result.ok ? result.json() : Promise.reject(`Ошибка ${result.status}`))\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}