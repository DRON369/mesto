{"version":3,"sources":["webpack://mesto/./src/utils/constants.js","webpack://mesto/./src/components/Card.js","webpack://mesto/./src/components/Popup.js","webpack://mesto/./src/components/PopupWithForm.js","webpack://mesto/./src/components/PopupWithImage.js","webpack://mesto/./src/components/Section.js","webpack://mesto/./src/components/UserInfo.js","webpack://mesto/./src/components/FormValidator.js","webpack://mesto/./src/pages/index.js"],"names":["document","querySelector","profileEditForm","profileEditPopup","popupProfileTitle","popupProfileSubtitle","editButton","addButton","profileEditPopupSelector","cardAddPopupSelector","validationConfig","inputSelector","submitButtonSelector","submitButtonDisabledSelector","inputInvalidSelector","Card","cardTemplateSelector","handleCardClick","name","link","this","_cardName","_cardImageLink","_cardTemplateSelector","_handleCardClick","content","cloneNode","event","target","closest","classList","toggle","remove","_card","addEventListener","_likeCardHandler","_removeCardHandler","_getTemplate","cardLabel","cardImage","textContent","src","alt","_setEventListeners","Popup","popupSelector","evt","code","close","_popup","add","_handleEscClose","removeEventListener","contains","PopupWithForm","handleFormSubmit","preventDefault","_handleFormSubmit","_getInputValues","_form","_inputList","querySelectorAll","_formValues","forEach","input","value","reset","_formSubmitFunction","PopupWithImage","_popupSelector","imageToView","imageToViewLabel","Section","containerSelector","items","renderer","_items","_renderer","_container","item","element","prepend","UserInfo","userSelector","aboutSelector","_userSelector","_aboutSelector","_profileInfo","user","about","profileTitle","profileSubtitle","FormValidator","formElement","_inputSelector","_submitButton","_submitButtonDisabledSelector","_inputInvalidSelector","id","validationMessage","validity","valid","_hideError","_showError","checkValidity","disabled","_checkInputValidity","setButtonState","addFormValidator","enableValidation","editFormValidator","imagePopup","setEventListeners","open","cardsList","cardElement","generateCard","addItem","renderItems","setUserInfo","addCardPopup","placeLabel","placeImage","userInfo","getUserInfo","clearValidationMessages"],"mappings":"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","file":"index.js","sourcesContent":["export const imageBox = document.querySelector('.image-box');\r\nexport const imageBoxCloseButton = imageBox.querySelector('.image-box__close-button');\r\nexport const profileEditForm = profileEditPopup.querySelector('.popup__form');\r\nexport const popupProfileTitle = profileEditForm.querySelector('#profileTitle');\r\nexport const popupProfileSubtitle = profileEditForm.querySelector('#profileSubtitle');\r\nexport const cardsListSection = '.cards__list';\r\nexport const editButton = document.querySelector('.profile__edit-button');\r\nexport const addButton = document.querySelector('.profile__add-button');\r\nexport const profileEditPopupSelector = '#profileEditPopup';\r\nexport const cardAddPopupSelector = '#cardAddPopup';\r\nexport const profileTitleSelector = '.profile__title';\r\nexport const profileSubtitleSelector = '.profile__subtitle';\r\n\r\n// Массив первоначальных карточек\r\nexport const initialCards = [\r\n  {\r\n    name: 'Архыз',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg'\r\n  },\r\n  {\r\n    name: 'Челябинская область',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg'\r\n  },\r\n  {\r\n    name: 'Иваново',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg'\r\n  },\r\n  {\r\n    name: 'Камчатка',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg'\r\n  },\r\n  {\r\n    name: 'Холмогорский район',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg'\r\n  },\r\n  {\r\n    name: 'Байкал',\r\n    link: 'https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg'\r\n  }];\r\n\r\n  export const validationConfig = {\r\n    inputSelector: '.popup__input',\r\n    submitButtonSelector: '.popup__submit-button',\r\n    submitButtonDisabledSelector: 'popup__submit-button_disabled',\r\n    inputInvalidSelector: 'popup__input_invalid',\r\n  };","import { initialCards } from '../utils/constants.js'\r\n\r\nexport default class Card {\r\n\r\n  constructor({ name, link }, cardTemplateSelector, handleCardClick) {\r\n    this._cardName = name;\r\n    this._cardImageLink = link;\r\n    this._cardTemplateSelector = cardTemplateSelector;\r\n    this._handleCardClick = handleCardClick;\r\n  }\r\n\r\n  _getTemplate() {\r\n    const cardElement = document\r\n      .querySelector(this._cardTemplateSelector)\r\n      .content\r\n      .cloneNode(true);\r\n    return cardElement;\r\n  }\r\n\r\n  _likeCardHandler(event) {\r\n    event.target.closest('.cards__like-button').classList.toggle('cards__like-button_liked');\r\n  }\r\n\r\n  _removeCardHandler(event) {\r\n    event.target.closest('.cards__item').remove();\r\n  }\r\n\r\n  _setEventListeners() {\r\n    this._card.querySelector('.cards__like-button').addEventListener('click', (event) => {\r\n      this._likeCardHandler(event);\r\n    });\r\n\r\n    this._card.querySelector('.cards__remove-button').addEventListener('click', (event) => {\r\n      this._removeCardHandler(event);\r\n    });\r\n\r\n    this._card.querySelector('.cards__image').addEventListener('click', (event) => {\r\n      this._handleCardClick(this._cardName, this._cardImageLink);\r\n    });\r\n  }\r\n\r\n  generateCard() {\r\n    this._card = this._getTemplate();\r\n    const cardLabel = this._card.querySelector('.cards__label');\r\n    const cardImage = this._card.querySelector('.cards__image');\r\n\r\n    cardLabel.textContent = this._cardName;\r\n    cardImage.src = this._cardImageLink;\r\n    cardImage.alt = this._cardName;\r\n    this._setEventListeners();\r\n    return this._card;\r\n  };\r\n\r\n}\r\n","export default class Popup {\r\n  constructor(popupSelector) {\r\n    this._popup = document.querySelector(popupSelector);\r\n  }\r\n\r\n  open() {\r\n    this._popup.classList.add('popup_opened');\r\n    document.addEventListener('keydown', this._handleEscClose);\r\n  }\r\n\r\n  close() {\r\n    this._popup.classList.remove('popup_opened');\r\n    document.removeEventListener('keydown', this._handleEscClose);\r\n  }\r\n\r\n  _handleEscClose = (evt) => {\r\n      if (evt.code === 'Escape') {\r\n        this.close();\r\n      }\r\n  }\r\n\r\n  setEventListeners() {\r\n    const closeButton = this._popup.querySelector('.popup__close-button') ?\r\n      this._popup.querySelector('.popup__close-button') :\r\n      this._popup.querySelector('.image-box__close-button');\r\n\r\n    closeButton.addEventListener('click', () => {\r\n      this.close();\r\n    })\r\n\r\n    this._popup.addEventListener('mousedown', (evt) => {\r\n      if (evt.target.classList.contains('popup_opened')) {\r\n        this.close();\r\n      }\r\n    });\r\n  }\r\n}","import Popup from './Popup.js';\r\n\r\nexport default class PopupWithForm extends Popup {\r\n  constructor(popupSelector, handleFormSubmit) {\r\n    super(popupSelector);\r\n    this._handleFormSubmit = handleFormSubmit;\r\n    this._form = this._popup.querySelector('.popup__form');\r\n  }\r\n\r\n  _getInputValues() {\r\n    this._inputList = this._form.querySelectorAll('.popup__input');\r\n    this._formValues = {};\r\n    this._inputList.forEach(input => this._formValues[input.name] = input.value);\r\n    return this._formValues;\r\n  }\r\n\r\n  close() {\r\n    this._form.reset();\r\n    super.close();\r\n  }\r\n\r\n  setEventListeners() {\r\n    this._form.addEventListener('submit', this._formSubmitFunction);\r\n    super.setEventListeners();\r\n  }\r\n\r\n _formSubmitFunction = (evt) => {\r\n    evt.preventDefault();\r\n    this._handleFormSubmit(this._getInputValues());\r\n    this.close();\r\n  }\r\n}","import Popup from './Popup.js';\r\n\r\nexport default class PopupWithImage extends Popup {\r\n  constructor(popupSelector) {\r\n    super(popupSelector);\r\n    this._popupSelector = document.querySelector(popupSelector);\r\n    //! Необходимо удалить\r\n    //!this._cardElement = cardElement;\r\n\r\n  }\r\n\r\n  open(name, link) {\r\n    const imageToView = this._popupSelector.querySelector('.image-box__image');\r\n    const imageToViewLabel = this._popupSelector.querySelector('.image-box__label');\r\n    imageToView.src = link;\r\n    imageToViewLabel.textContent = name;\r\n    imageToView.alt = name;\r\n    super.open();\r\n    document.addEventListener('keydown', this._handleEscClose);\r\n  }\r\n\r\n}","export default class Section {\r\n  constructor({ items, renderer }, containerSelector) {\r\n    this._items = items;\r\n    this._renderer = renderer;\r\n    this._container = document.querySelector(containerSelector);\r\n  }\r\n\r\n  renderItems() {\r\n    this._items.forEach((item) => {\r\n      this._renderer(item);\r\n    })\r\n  }\r\n\r\n  addItem(element) {\r\n    this._container.prepend(element);\r\n  }\r\n}","\r\nexport default class UserInfo {\r\n  constructor(userSelector, aboutSelector) {\r\n    this._userSelector = userSelector;\r\n    this._aboutSelector = aboutSelector;\r\n  }\r\n\r\n  getUserInfo () {\r\n    this._profileInfo = {};\r\n    this._profileInfo.user = document.querySelector(this._userSelector).textContent;\r\n    this._profileInfo.about = document.querySelector(this._aboutSelector).textContent;\r\n    return this._profileInfo;\r\n  }\r\n\r\n  setUserInfo ({profileTitle, profileSubtitle}) {\r\n    document.querySelector(this._userSelector).textContent = profileTitle;\r\n    document.querySelector(this._aboutSelector).textContent = profileSubtitle;\r\n  }\r\n\r\n}","export default class FormValidator {\r\n\r\n  constructor(validationConfig, formElement) {\r\n    this._form = formElement;\r\n    this._inputSelector = validationConfig.inputSelector;\r\n    this._submitButton = this._form.querySelector(validationConfig.submitButtonSelector);\r\n    this._submitButtonDisabledSelector = validationConfig.submitButtonDisabledSelector;\r\n    this._inputInvalidSelector = validationConfig.inputInvalidSelector;\r\n  }\r\n\r\n  enableValidation() {\r\n    this._setEventListeners();\r\n  }\r\n\r\n  _showError(input) {\r\n    const error = this._form.querySelector(`#${input.id}-error`);\r\n    error.textContent = input.validationMessage;\r\n    input.classList.add(this._inputInvalidSelector);\r\n  };\r\n\r\n  _hideError(input) {\r\n    const error = this._form.querySelector(`#${input.id}-error`);\r\n    error.textContent = '';\r\n    input.classList.remove(this._inputInvalidSelector);\r\n  };\r\n\r\n  _checkInputValidity(input) {\r\n    if (!input.validity.valid) {\r\n      this._showError(input);\r\n    } else {\r\n      this._hideError(input);\r\n    }\r\n  };\r\n\r\n  setButtonState() {\r\n    if (this._form.checkValidity()) {\r\n      this._submitButton.classList.remove(this._submitButtonDisabledSelector);\r\n      this._submitButton.disabled = false;\r\n    } else {\r\n      this._submitButton.classList.add(this._submitButtonDisabledSelector);\r\n      this._submitButton.disabled = true;\r\n    }\r\n  };\r\n\r\n  _setEventListeners() {\r\n    const inputList = this._form.querySelectorAll(this._inputSelector);\r\n    inputList.forEach((input) => {\r\n      input.addEventListener('input', () => {\r\n        this._checkInputValidity(input);\r\n        this.setButtonState();\r\n      });\r\n    });\r\n  };\r\n\r\n  clearValidationMessages() {\r\n    const inputList = this._form.querySelectorAll(this._inputSelector);\r\n    inputList.forEach((input) => {\r\n      this._hideError(input);\r\n    });\r\n  }\r\n\r\n}","import './index.css';\r\n\r\nimport Card from '../components/Card.js';\r\nimport Popup from '../components/Popup.js';\r\nimport PopupWithForm from '../components/PopupWithForm.js';\r\nimport PopupWithImage from '../components/PopupWithImage.js';\r\nimport Section from '../components/Section.js';\r\nimport UserInfo from '../components/UserInfo.js';\r\nimport FormValidator from '../components/FormValidator.js';\r\n\r\nimport {\r\n  initialCards,\r\n  cardsListSection,\r\n  addButton,\r\n  editButton,\r\n  cardAddPopupSelector,\r\n  profileEditPopupSelector,\r\n  validationConfig,\r\n  profileTitleSelector,\r\n  profileSubtitleSelector,\r\n  popupProfileTitle,\r\n  popupProfileSubtitle\r\n\r\n} from '../utils/constants.js';\r\n\r\nconst addForm = document.querySelector(cardAddPopupSelector).querySelector('.popup__form');\r\nconst addFormValidator = new FormValidator(validationConfig, addForm);\r\naddFormValidator.enableValidation();\r\n\r\nconst editForm = document.querySelector(profileEditPopupSelector).querySelector('.popup__form');\r\nconst editFormValidator = new FormValidator(validationConfig, editForm);\r\neditFormValidator.enableValidation();\r\n\r\n// * Инициализация класса PopupWithImage\r\nconst imagePopup = new PopupWithImage('.image-box');\r\nimagePopup.setEventListeners();\r\nconst handleCardClick = (name, link) => {\r\n  imagePopup.open(name, link);\r\n}\r\n\r\n// * Первоначальная инициализация карточек\r\nconst cardsList = new Section({\r\n  items: initialCards,\r\n  renderer: (item) => {\r\n    const card = new Card(item, '.card-template', handleCardClick);\r\n    const cardElement = card.generateCard();\r\n    cardsList.addItem(cardElement);\r\n  }\r\n}, cardsListSection\r\n);\r\ncardsList.renderItems();\r\n\r\n// * Инициализация класса UserInfo\r\nconst user = new UserInfo(profileTitleSelector, profileSubtitleSelector);\r\nconst profileEditPopup = new PopupWithForm(profileEditPopupSelector, (item) => {\r\n  user.setUserInfo(item);\r\n});\r\nprofileEditPopup.setEventListeners();\r\n\r\n// * Инициализация класса PopupWithForm\r\nconst addCardPopup = new PopupWithForm(cardAddPopupSelector, (item) => {\r\n  const card = new Card({ name: item.placeLabel, link: item.placeImage }, '.card-template', handleCardClick);\r\n  const cardElement = card.generateCard();\r\n  cardsList.addItem(cardElement);\r\n});\r\naddCardPopup.setEventListeners();\r\n\r\neditButton.addEventListener('click', () => {\r\n  const userInfo = user.getUserInfo();\r\n  popupProfileTitle.value = userInfo.user;\r\n  popupProfileSubtitle.value = userInfo.about;\r\n  editFormValidator.clearValidationMessages();\r\n  editFormValidator.setButtonState();\r\n  profileEditPopup.open();\r\n});\r\n\r\naddButton.addEventListener('click', () => {\r\n  addFormValidator.clearValidationMessages();\r\n  addFormValidator.setButtonState();\r\n  addCardPopup.open();\r\n});\r\n\r\n"],"sourceRoot":""}